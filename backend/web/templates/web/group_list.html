{% extends 'web/base.html' %}
{% block title %}Groups • Daily Groups{% endblock %}
{% block content %}
  <div class="card">
    <h2>Groups</h2>
    <p><a class="btn" href="{% url 'group_create' %}">New Group</a></p>
    <table class="table">
      <thead><tr><th>Cover</th><th>Name</th><th>Owner</th><th>Actions</th></tr></thead>
      <tbody>
      {% for g in groups %}
        <tr>
          <td style="width:60px;">
            {% if g.cover %}
              <img src="{{ g.cover.url }}" alt="{{ g.name }} cover" style="width:48px; height:36px; object-fit:cover; border-radius:6px; border:1px solid #e0e0e0;">
            {% else %}
              <span class="muted">—</span>
            {% endif %}
          </td>
          <td><a href="{% url 'group_detail' g.pk %}">{{ g.name }}</a></td>
          <td>{{ g.owner.username }}</td>
          <td>
            <a href="{% url 'group_edit' g.pk %}">Edit</a>
            |
            <a href="{% url 'group_delete' g.pk %}">Delete</a>
          </td>
        </tr>
      {% empty %}
        <tr><td colspan="3" class="muted">No groups found.</td></tr>
      {% endfor %}
      </tbody>
    </table>
    <div class="pagination">
      {% if is_paginated %}
        {% if page_obj.has_previous %}<a href="?page={{ page_obj.previous_page_number }}">Prev</a>{% endif %}
        <span>Page {{ page_obj.number }} of {{ page_obj.paginator.num_pages }}</span>
        {% if page_obj.has_next %}<a href="?page={{ page_obj.next_page_number }}">Next</a>{% endif %}
      {% endif %}
    </div>
  </div>
{% endblock %}
